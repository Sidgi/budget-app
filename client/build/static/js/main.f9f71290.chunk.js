(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{254:function(e,t,a){e.exports=a(455)},259:function(e,t,a){},355:function(e,t,a){},369:function(e,t,a){},441:function(e,t,a){},455:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(55),o=a.n(l),i=(a(259),a(260),a(19)),c=a(46),s=a(14),u=a.n(s),p=a(18),m=a(26),h=a(27),d=a(29),f=a(28),g=a(16),E=a(30),y=a(469),v=a(466),b=a(20);var O=function(e){return r.a.createElement("div",null,r.a.createElement(y.a,{style:{display:"flex",justifyContent:"flex-end"},inverted:!0},localStorage.getItem("token")?r.a.createElement("div",null,r.a.createElement(b.a,{to:"/"},r.a.createElement(v.a,{basic:!0,inverted:!0,color:"grey"},"Home")),r.a.createElement(b.a,{to:"/myaccount"},r.a.createElement(v.a,{basic:!0,inverted:!0,color:"grey"},"My profile")),r.a.createElement(b.a,{to:"/reports"},r.a.createElement(v.a,{basic:!0,inverted:!0,color:"grey"},"My Reports")),r.a.createElement(b.a,{to:"/listofoperations",onClick:e.handleIsExpenseFalse},r.a.createElement(v.a,{basic:!0,inverted:!0,color:"grey"},"All incomes")),r.a.createElement(b.a,{to:"/listofoperations",onClick:e.handleIsExpenseTrue},r.a.createElement(v.a,{basic:!0,inverted:!0,color:"grey"},"All expences")),r.a.createElement(b.a,{to:"/createwallet"},r.a.createElement(v.a,{basic:!0,inverted:!0,color:"grey"},"Create Account/Wallet")),r.a.createElement(b.a,{to:"/operation"},r.a.createElement(v.a,{content:"Create Operation",onClick:e.handleEditStateCreate,basic:!0,inverted:!0,color:"grey"})),r.a.createElement(b.a,{to:"/"},r.a.createElement(v.a,{onClick:e.logOut,basic:!0,inverted:!0,color:"grey"},"Log Out"))):r.a.createElement("div",null,r.a.createElement(b.a,{to:"/login"},r.a.createElement(v.a,{basic:!0,inverted:!0,color:"grey"},"Log In")),r.a.createElement(b.a,{to:"/signup"},r.a.createElement(v.a,{basic:!0,inverted:!0,color:"grey"},"Sign Up")))))},C=a(468);var w=function(){return r.a.createElement("div",null,r.a.createElement(y.a,{inverted:!0,color:"black"},r.a.createElement(C.a,null,"Created By Sidgi Samanduyev 2019")))},x=a(64),I=(a(355),{width:"100vw",height:"86vh",important:!0}),j={margin:"0 0 .28571429rem 0",display:"block",fontSize:".92857143em",fontWeight:"700"},k={width:"210px",height:"40px",margin:"0 auto 1em"},S={display:"flex",justifyContent:"space-evenly"},_={display:"block",important:!0},A={display:"block",margin:"auto auto",important:!0},N={width:"15vw",height:"5vh"},D={width:"210px",marginBottom:"1em",important:!0},U={display:"block",width:"100vw",height:"86vh"},L={margin:"0"},T={display:"flex",justifyContent:"space-evenly",width:"100vw",height:"86vh",important:!0},W={display:"flex",justifyContent:"space-evenly",width:"100vw",important:!0},H=a(470),B=a(463),F=a(462);var P=function(e){return r.a.createElement("div",null,r.a.createElement(y.a,{style:I,inverted:!0,color:"black",placeholder:!0},r.a.createElement(H.a,{columns:2,relaxed:"very",stackable:!0},r.a.createElement(H.a.Column,null,r.a.createElement("h1",null,"Log In"),r.a.createElement(B.a,{onSubmit:e.logIn,className:"login"},r.a.createElement(B.a.Input,{onChange:e.handleChange,type:"text",name:"username",icon:"user",iconPosition:"left",label:"Username",placeholder:"Username"}),r.a.createElement(B.a.Input,Object(i.a)({onChange:e.handleChange,type:"password",name:"password",icon:"lock",iconPosition:"left",label:"Password"},"type","password")),r.a.createElement(v.a,{type:"submit",name:"submit",content:"Login",primary:!0}))),r.a.createElement(H.a.Column,{verticalAlign:"middle"},r.a.createElement(b.a,{to:"signup"},r.a.createElement(v.a,{content:"Sign up",icon:"signup",size:"big"})))),r.a.createElement(F.a,{className:"dividerColorWhite",vertical:!0},"Or")))};a(369);var M=function(e){return r.a.createElement(y.a,{style:I,inverted:!0,color:"black",placeholder:!0},r.a.createElement(H.a,{columns:2,relaxed:"very",stackable:!0},r.a.createElement(H.a.Column,null,r.a.createElement("h1",null,"Sign Up"),r.a.createElement(B.a,{onSubmit:e.signUp,className:"signUp"},r.a.createElement(B.a.Input,{onChange:e.handleChange,type:"text",name:"username",icon:"user",iconPosition:"left",label:"Username",placeholder:"Username"}),r.a.createElement(B.a.Input,{onChange:e.handleChange,name:"email",icon:"mail",iconPosition:"left",label:"Email",type:"email",placeholder:"Email"}),r.a.createElement(B.a.Input,{onChange:e.handleChange,name:"password",icon:"lock",iconPosition:"left",label:"Password",type:"password"}),r.a.createElement(v.a,{type:"submit",name:"submit",content:"Sign up",primary:!0}))),r.a.createElement(H.a.Column,{verticalAlign:"middle"},r.a.createElement(b.a,{to:"/login"},r.a.createElement(v.a,{type:"submit",name:"submit",value:"log in",content:"Log in",icon:"sign in",size:"big"})))),r.a.createElement(F.a,{className:"dividerColorWhite",vertical:!0},"Or"))},R=a(47),z=a.n(R);z.a.defaults.baseURL="http://localhost:3000";var Y=function(){var e=Object(p.a)(u.a.mark(function e(t){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={user:t},e.next=3,z.a.post("/users/",a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(p.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.a.post("/auth/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(p.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.a.post("/operations",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(p.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.a.post("/wallets",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(p.a)(u.a.mark(function e(){var t,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={user:localStorage.getItem("user_id")},e.next=3,z.a.get("/users/".concat(localStorage.getItem("user_id")),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(p.a)(u.a.mark(function e(t,a){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,z.a.delete("/operations/".concat(a),a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),Q=function(){var e=Object(p.a)(u.a.mark(function e(t){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.a.put("/operations/".concat(t.id),t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),X=a(242);var Z=function(){var e=Object(n.useCallback)(function(e){console.log(e)},[]),t=Object(X.a)({onDrop:e}),a=t.getRootProps,l=t.getInputProps,o=t.isDragActive;return r.a.createElement("div",a(),r.a.createElement("input",l()),o?r.a.createElement("p",null,"Drop the files here ..."):r.a.createElement("p",null,"Drag 'n' drop some files here, or click to select files"))},$=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).state={image:null,picture_url:null,preview:!1},a.createOperation=a.createOperation.bind(Object(g.a)(a)),a.editOperation=a.editOperation.bind(Object(g.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"createOperation",value:function(){var e=Object(p.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,J(this.props.currentOperation);case 3:this.props.fetchAllOperation(),this.props.history.push("/myaccount");case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"editOperation",value:function(){var e=Object(p.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Q(this.props.currentOperation);case 3:this.props.fetchAllOperation(),this.props.history.push("/myaccount");case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.props,n=(a.currentOperation,a.EditState),l=a.wallets;return r.a.createElement("div",null,r.a.createElement(Z,null),r.a.createElement(y.a,{style:I,inverted:!0,color:"black",placeholder:!0},r.a.createElement("h1",{style:{marginBottom:"5em"}},n?"Edit operation":"Create operation"),r.a.createElement(H.a,{columns:3,stackable:!0},r.a.createElement(H.a.Column,null,r.a.createElement(B.a,null,r.a.createElement(B.a.Input,{onChange:this.props.handleChangeInput,value:this.props.currentOperation.name,type:"text",name:"name",label:"Name",placeholder:"name of operation"}),r.a.createElement(B.a.Input,{onChange:this.props.handleChangeInput,value:this.props.currentOperation.category,name:"category",label:"Category",type:"text",placeholder:"category"}),r.a.createElement(B.a.Input,{onChange:this.props.handleChangeInput,value:this.props.currentOperation.amount,name:"amount",icon:"dollar",iconPosition:"left",label:"Amount",type:"number",placeholder:"amount of operation"}))),r.a.createElement(H.a.Column,null,r.a.createElement(B.a,{style:{display:"block",important:!0}},r.a.createElement("label",{style:j},"Type of operation"),r.a.createElement("select",{value:this.props.currentOperation.type_of_operation,onChange:this.props.handleChangeInput,name:"type_of_operation",style:k},r.a.createElement("option",null,"Income"),r.a.createElement("option",null,"Expense")),r.a.createElement("label",{style:j},"Priority"),r.a.createElement("select",{value:this.props.currentOperation.priority,onChange:this.props.handleChangeInput,name:"priority",style:k},r.a.createElement("option",null,"High"),r.a.createElement("option",null,"Medium"),r.a.createElement("option",null,"Low")),r.a.createElement("label",{style:j},"Account name"),r.a.createElement("select",{value:this.props.currentOperation.wallet_id,onChange:this.props.handleChangeInput,name:"wallet_id",style:k},l&&l.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})),r.a.createElement(v.a,{onClick:n?this.editOperation:this.createOperation,type:"submit",name:"submit",content:n?"Edit operation":"Create operation",primary:!0}))),r.a.createElement(H.a.Column,null,r.a.createElement(B.a,null,r.a.createElement(B.a.Input,{value:this.props.currentOperation.description,onChange:this.props.handleChangeInput,name:"description",label:"Description",type:"text",placeholder:"Description"}),r.a.createElement("label",{style:_},"Receipt photo"),r.a.createElement("input",(e={style:D,name:"image",type:"file",placeholder:"Receipt photo",ref:function(e){return t.fileInput=e}},Object(i.a)(e,"type","file"),Object(i.a)(e,"onChange",function(e){return t.props.handleFileUpload(e)}),e)),r.a.createElement(B.a.Input,{value:this.props.currentOperation.date_of_expense,onChange:this.props.handleChangeInput,name:"date_of_expense",label:"Date of operation",type:"date",placeholder:"Date of operation"}))))))}}]),t}(n.Component),ee=a(464),te=a(243),ae=function(e){function t(e){return Object(m.a)(this,t),Object(d.a)(this,Object(f.a)(t).call(this,e))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"triggerModal",value:function(){}},{key:"render",value:function(){return r.a.createElement(y.a,{inverted:!0,color:"black",style:{width:"100vw",height:"85vh"},placeholder:!0},r.a.createElement(H.a,{divided:!0,inverted:!0,padded:!0,columns:1,textAlign:"center"},r.a.createElement(H.a.Row,{verticalAlign:"middle"},r.a.createElement(H.a.Column,null,r.a.createElement(C.a,{as:"h1",icon:!0,color:"white",style:{color:"white",important:!0}},"Budget App"),r.a.createElement(ee.a,{trigger:r.a.createElement(v.a,null,"Instructions")},r.a.createElement(ee.a.Header,null,"Budgeting App"),r.a.createElement(ee.a.Content,{image:!0},r.a.createElement(te.a,{wrapped:!0,size:"medium",src:"https://www.cpacanada.ca/-/media/site/operational/ec-education-certification/images/g10266-ec.jpg"}),r.a.createElement(ee.a.Description,null,r.a.createElement(C.a,null,"Instructions:"),r.a.createElement("ol",null,r.a.createElement("li",null,"Login or Sign Up in the rigth corner"),r.a.createElement("li",null,"Create your wallets/accounts"),r.a.createElement("li",null,"Create your income/expense in create operation"),r.a.createElement("li",null,"See reports in reports or in All incomes/All expenses"),r.a.createElement("li",null,"Coming soon...")))))))))}}]),t}(n.Component),ne=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).handleChangeInput=function(e){var t=e.target,n=t.name,r=t.value;a.setState(function(e){return Object(c.a)({},e,{form:Object(c.a)({},e.form,Object(i.a)({},n,r))})})},a.state={form:{name:"",currency:"Dollar",limit:"",cash_or_credit:"Cash",total:"",user_id:localStorage.getItem("user_id")}},a.handleCreateWallet=a.handleCreateWallet.bind(Object(g.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"handleCreateWallet",value:function(){var e=Object(p.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefult(),e.next=3,G(this.state.form);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleCreateWallet",value:function(){var e=Object(p.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(this.state.form);case 2:this.props.history.push("/operation"),this.props.fetchAllOperation();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(y.a,{style:I,inverted:!0,color:"black",placeholder:!0},r.a.createElement("h1",null,"Create Wallet"),r.a.createElement(H.a,{columns:1,relaxed:"very",stackable:!0},r.a.createElement(H.a.Column,null,r.a.createElement(B.a,{onSubmit:this.handleCreateWallet,className:"signUp"},r.a.createElement(B.a.Input,{onChange:this.handleChangeInput,type:"text",name:"name",label:"Name",placeholder:"Account name"}),r.a.createElement(B.a.Input,{onChange:this.handleChangeInput,type:"number",name:"limit",label:"Limit",placeholder:"Limit"}),r.a.createElement("label",{style:j},"Cash or Credit Account"),r.a.createElement("select",{onChange:this.handleChangeInput,name:"cash_or_credit",style:k},r.a.createElement("option",null,"Cash"),r.a.createElement("option",null,"Credit")),r.a.createElement("label",{style:j},"Currency"),r.a.createElement("select",{onChange:this.handleChangeInput,name:"currency",style:k},r.a.createElement("option",null,"Dollar"),r.a.createElement("option",null,"Euro"),r.a.createElement("option",null,"Ruble")),r.a.createElement(v.a,{type:"submit",name:"submit",content:"Create Wallet",primary:!0}))))))}}]),t}(n.Component),re=(a(441),a(465)),le=function(e){function t(e){return Object(m.a)(this,t),Object(d.a)(this,Object(f.a)(t).call(this,e))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.expenses,e.wallets);return r.a.createElement("div",null,r.a.createElement("div",{style:S},r.a.createElement("div",null,r.a.createElement("label",{style:_},"Search by name"),r.a.createElement("input",{name:"searchByName",value:this.props.searchByName,onChange:this.props.handleOnChange,style:N})),r.a.createElement("div",null,r.a.createElement("label",{style:_},"Search by category"),r.a.createElement("select",{name:"category",onChange:this.props.handleOnChange,style:N},t&&t.map(function(e){return e.operations.map(function(e){return r.a.createElement("option",{key:e.id},e.category)})}))),r.a.createElement("div",null,r.a.createElement("label",{style:_},"Search by wallet"),r.a.createElement("select",{name:"wallet",onChange:this.props.handleOnChange,style:N},t&&t.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),r.a.createElement("div",null,r.a.createElement("label",{style:_},"Search by date"),r.a.createElement("input",{name:"date_of_expense",onChange:this.props.handleOnChange,style:N,type:"date"})),r.a.createElement(v.a,{onClick:this.props.emptyFilter,style:{margin:"auto 1em auto 0"},icon:"trash"})))}}]),t}(n.Component),oe=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).state={active:"active",selectedCellsTotal:0,redirect:!1},a.sum=a.sum.bind(Object(g.a)(a)),a.addClassActive=a.addClassActive.bind(Object(g.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"sum",value:function(e){var t=this.props,a=t.searchByName,n=t.category,r=t.date_of_expense,l=t.wallet,o=(t.expenses,this.props.expenses&&this.props.expenses.map(function(e){return e.filter(function(e){if(e)return e.name&&e.name.toLowerCase().includes(a.toLowerCase())&&e.category&&-1!==e.category.indexOf(n)&&e.date_of_expense&&-1!==e.date_of_expense.indexOf(r)&&e.wallet_id&&e.wallet_id.toString().includes(l)})})),i=o.map(function(t){return t[0]&&t.reduce(function(t,a){return t+(a[e]||0)},0)}).reduce(function(e,t){return(e||0)+(t||0)});return o[0]&&i}},{key:"addClassActive",value:function(e){if(e.preventDefault(),e.target.parentNode.classList[0]){e.target.parentNode.classList.remove("active");var t=Number(e.target.parentNode.childNodes[1]&&e.target.parentNode.childNodes[1].innerHTML)?Number(e.target.parentNode.childNodes[1].innerHTML):0,a=this.state.selectedCellsTotal;a-=t,this.setState({selectedCellsTotal:a})}else{e.target.parentNode.classList.add("active");var n=Number(e.target.parentNode.childNodes[1]&&e.target.parentNode.childNodes[1].innerHTML)?Number(e.target.parentNode.childNodes[1].innerHTML):0,r=this.state.selectedCellsTotal;r+=n,this.setState({selectedCellsTotal:r})}}},{key:"render",value:function(){var e=this;if(this.state.redirect)return r.a.createElement(x.a,{to:"/operation"});var t=this.state.selectedCellsTotal,a=this.props,n=a.expenses,l=a.searchByName,o=a.category,c=a.date_of_expense,s=a.wallet,u=a.IsExpense,p=a.currentOperation,m=n&&n.map(function(e){return e.filter(function(e){if(e)return e&&e.name&&e.name.toLowerCase().includes(l.toLowerCase())&&e&&e.category&&-1!==e.category.indexOf(o)&&e&&e.date_of_expense&&-1!==e.date_of_expense.indexOf(c)&&e.wallet_id&&e.wallet_id.toString().includes(s)})}),h=n?n.reduce(function(e,t){return e+t.length},0):0;return r.a.createElement("div",null,r.a.createElement(y.a,{style:h>6?W:I,inverted:!0,color:"black",placeholder:!0},r.a.createElement("h1",null,"List of ",u?"Expenses":"Incomes"),r.a.createElement(le,{expenses:this.props.expenses,handleOnChange:this.props.handleOnChange,emptyFilter:this.props.emptyFilter,wallets:this.props.wallets}),r.a.createElement(re.a,{celled:!0},r.a.createElement(re.a.Header,null,r.a.createElement(re.a.Row,null,r.a.createElement(re.a.HeaderCell,null,"NAME"),r.a.createElement(re.a.HeaderCell,null,"AMOUNT"),r.a.createElement(re.a.HeaderCell,null,"CATEGORY"),r.a.createElement(re.a.HeaderCell,null,"ACCOUNT ID"),r.a.createElement(re.a.HeaderCell,null,"DATE"),r.a.createElement(re.a.HeaderCell,null,"FUNCTIONS"))),r.a.createElement(re.a.Body,null,n&&m.map(function(t){return t.map(function(t){var a=t.id;return r.a.createElement(re.a.Row,{onClick:e.addClassActive,key:t.id},r.a.createElement(re.a.Cell,null,t.name),r.a.createElement(re.a.Cell,null,t.amount),r.a.createElement(re.a.Cell,null,t.category),r.a.createElement(re.a.Cell,null,t.wallet_id),r.a.createElement(re.a.Cell,null,t.date_of_expense),r.a.createElement(re.a.Cell,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly"}},r.a.createElement(v.a,{style:L,name:"delete",value:"Delete",icon:"trash",size:"big",onClick:function(n){n.preventDefault(),n.stopPropagation(),e.props.setCurrentOperation(n,t),e.props.handleDeleteOperation(n,a),e.props.fetchAllOperation()}}),r.a.createElement(v.a,{style:L,name:"edit",value:"Edit",icon:"edit outline",size:"big",onClick:function(a){a.preventDefault(),a.stopPropagation(),e.props.setCurrentOperation(a,t),e.setState({redirect:!0}),e.props.handleEditState(a)}}),r.a.createElement(ee.a,{trigger:r.a.createElement(v.a,{onClick:function(a){return e.props.setCurrentOperation(a,t)},style:L,name:"view",value:"View",icon:"folder open outline",size:"big"})},r.a.createElement(ee.a.Header,null,"Operation: "),r.a.createElement(ee.a.Content,{image:!0},r.a.createElement(te.a,Object(i.a)({wrapped:!0,size:"medium",src:"https://react.semantic-ui.com/images/wireframe/square-image.png"},"size","medium")),r.a.createElement(ee.a.Description,null,r.a.createElement(C.a,null,p.type_of_operation),r.a.createElement("p",null,"Name: ",p.name),r.a.createElement("p",null,"Amount: ",p.amount),r.a.createElement("p",null,"Category: ",p.category),r.a.createElement("p",null,"Date of operation: ",p.date_of_expense),r.a.createElement("p",null,"Description: ",p.description),r.a.createElement("p",null,"Priority: ",p.priority),r.a.createElement("p",null,"Account id: ",p.wallet_id&&p.wallet_id)))))))})})),r.a.createElement(re.a.Footer,null,r.a.createElement(re.a.Row,null,r.a.createElement(re.a.HeaderCell,null,"Total: "),r.a.createElement(re.a.HeaderCell,{content:n&&this.sum("amount"),icon:"currency"}),r.a.createElement(re.a.HeaderCell,{content:"Selected cells' sum: "}),r.a.createElement(re.a.HeaderCell,{content:t}),r.a.createElement(re.a.HeaderCell,null),r.a.createElement(re.a.HeaderCell,null))))))}}]),t}(n.Component),ie=function(e){function t(e){return Object(m.a)(this,t),Object(d.a)(this,Object(f.a)(t).call(this,e))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"sum",value:function(e){var t=0;return e&&e.map(function(e){return e.map(function(e){return t+=e.amount})}),t}},{key:"render",value:function(){var e=this.props,t=e.expenses,a=e.incomes;e.wallets;return r.a.createElement(y.a,{style:U,inverted:!0,color:"black",placeholder:!0},r.a.createElement("h1",null,"Welcome to Budgeting app dear ",localStorage.getItem("username")),r.a.createElement("div",{style:S},r.a.createElement(te.a,{style:{borderRadius:"50%"},src:"https://react.semantic-ui.com/images/wireframe/square-image.png",size:"medium"}),r.a.createElement("div",{style:A},r.a.createElement("h1",null,"Your email is:  ",localStorage.getItem("email")),r.a.createElement("h1",null,"Your username is:  ",localStorage.getItem("username")))),r.a.createElement("h3",null,"Your total income is: ",this.sum(a)),r.a.createElement("h3",null,"Your total expense is: ",this.sum(t)),r.a.createElement("h3",null,"Your total balance is: ",this.sum(a)-this.sum(t)),r.a.createElement("h3",null,this.sum(a)-this.sum(t)>0?"You are in a good place your income is more than expense on ".concat(this.sum(a)-this.sum(t)):"You have to work harder your balance is ".concat(this.sum(a)-this.sum(t))))}}]),t}(n.Component),ce=a(442).Pie,se={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50},ue=function(e){function t(e){return Object(m.a)(this,t),Object(d.a)(this,Object(f.a)(t).call(this,e))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"sum",value:function(e,t){var a=this.props,n=a.searchByName,r=a.category,l=a.date_of_expense;a.wallet,a.expenses,this.props.expenses&&this.props.expenses.map(function(e){return e.filter(function(e){if(e)return e.name&&-1!==e.name.indexOf(n)&&e.category&&-1!==e.category.indexOf(r)&&e.date_of_expense&&-1!==e.date_of_expense.indexOf(l)})});return t[0]&&t.reduce(function(t,a){return t+(a[e]||0)},0)}},{key:"render",value:function(){var e=[],t=[],a=[];return this.props.expenses?this.props.expenses.map(function(t){return t.map(function(t){return e.push({value:t.amount,label:t.name,color:"red",highlight:"#C69CBE"})})}):e.push({value:.1,label:"You don't have expenses"}),this.props.incomes?this.props.incomes.map(function(e){return e.map(function(e){return t.push({value:e.amount,label:e.name,color:"blue",highlight:"#C69CBE"})})}):t.push({value:.1,label:"You don't have incomes"}),a.push({value:this.sum("value",e),label:"Expense"}),a.push({value:this.sum("value",t),label:"Incomes"}),r.a.createElement(y.a,{inverted:!0,color:"black",placeholder:!0},r.a.createElement("h1",null,"My Reports"),r.a.createElement("div",{style:T},r.a.createElement("div",null,r.a.createElement("h1",null,"My Expenses"),e[0]?r.a.createElement(ce,{data:e,options:se,width:"300",height:"150"}):r.a.createElement("h1",null,"N/A")),r.a.createElement("div",null,r.a.createElement("h1",null,"My Income"),t[0]?r.a.createElement(ce,{data:t,options:se,width:"300",height:"150"}):r.a.createElement("h1",null,"N/A")),r.a.createElement("div",null,r.a.createElement("h1",null,"My Balance"),a[0].value&&a[1].value?r.a.createElement(ce,{data:a,options:se,width:"300",height:"150"}):r.a.createElement("h1",null,"N/A"))))}}]),t}(n.Component),pe=a(34),me=Object(pe.a)(),he=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(f.a)(t).call(this))).signUp=function(){var t=Object(p.a)(u.a.mark(function t(a){var n,r;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={email:e.state.email,password:e.state.password,username:e.state.username},t.next=4,Y(n);case 4:r=t.sent,e.setState({newUser:r.data}),e.state.newUser&&me.push("/login");case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.logIn=function(){var t=Object(p.a)(u.a.mark(function t(a){var n,r,l,o,i,c,s;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,r=n.username,l=n.password,o=n.isLoggedIn,a.preventDefault(),i={username:r,password:l},t.next=5,q(i);case 5:return c=t.sent,t.next=8,c.token;case 8:(s=t.sent)&&e.setState({token:s,isLoggedIn:!0}),s?localStorage.setItem("token",s):alert("Please reenter password"),s?localStorage.setItem("email",c.email):alert("Please reenter password"),s&&localStorage.setItem("username",r),s&&localStorage.setItem("user_id",c.user_id),o&&me.push("/myaccount"),e.fetchAllOperation();case 16:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.handleChangeInput=function(t){var a=t.target,n=a.name,r=a.value;e.setState(function(e){return Object(c.a)({},e,Object(i.a)({},"currentOperation",Object(c.a)({},e.currentOperation,Object(i.a)({},n,r))))})},e.state={token:null,email:"",password:"",username:"",newUser:null,isLoggedIn:!1,currentOperation:{id:"",name:"",category:"",amount:"",wallet_id:"",description:"",type_of_operation:"Income",priority:"High",date_of_expense:(new Date).toISOString().substr(0,10),image:""},EditState:!1,incomes:null,expenses:null,active:"active",selectedCellsTotal:0,searchByName:"",category:"",date_of_expense:"",wallet:"",redirect:!1,IsExpense:!0,allWallets:null,filteredWallets:""},e.handleChange=e.handleChange.bind(Object(g.a)(e)),e.signUp=e.signUp.bind(Object(g.a)(e)),e.logIn=e.logIn.bind(Object(g.a)(e)),e.setCurrentOperation=e.setCurrentOperation.bind(Object(g.a)(e)),e.handleEditState=e.handleEditState.bind(Object(g.a)(e)),e.handleEditStateCreate=e.handleEditStateCreate.bind(Object(g.a)(e)),e.handleChangeInput=e.handleChangeInput.bind(Object(g.a)(e)),e.unselectImage=e.unselectImage.bind(Object(g.a)(e)),e.emptyFilter=e.emptyFilter.bind(Object(g.a)(e)),e.handleOnChange=e.handleOnChange.bind(Object(g.a)(e)),e.handleIsExpenseTrue=e.handleIsExpenseTrue.bind(Object(g.a)(e)),e.handleIsExpenseFalse=e.handleIsExpenseFalse.bind(Object(g.a)(e)),e.handleDeleteOperation=e.handleDeleteOperation.bind(Object(g.a)(e)),e.fetchAllOperation=e.fetchAllOperation.bind(Object(g.a)(e)),e.logOut=e.logOut.bind(Object(g.a)(e)),e}return Object(E.a)(t,e),Object(h.a)(t,[{key:"fetchAllOperation",value:function(){var e=Object(p.a)(u.a.mark(function e(){var t,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:t=e.sent,a=t.wallets,this.setInitialState(a),this.filterOperations();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"filterOperations",value:function(){var e=this.state.allWallets&&this.state.allWallets.map(function(e){return e.operations.filter(function(e){return"Income"===e.type_of_operation})}),t=this.state.allWallets&&this.state.allWallets.map(function(e){return e.operations.filter(function(e){return"Expense"===e.type_of_operation})});this.setState({incomes:e,expenses:t})}},{key:"setInitialState",value:function(e){var t={id:"",name:"",category:"",amount:"0",wallet_id:e&&e[0].id,description:"",type_of_operation:"Income",priority:"High",date_of_expense:(new Date).toISOString().substr(0,10),image:""};this.setState({allWallets:e,currentOperation:t})}},{key:"componentDidMount",value:function(){var e=Object(p.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAllOperation();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"logOut",value:function(){localStorage.clear(),this.setState({isLoggedIn:!1})}},{key:"emptyFilter",value:function(e){e.preventDefault(),this.setState({category:"",searchByName:"",date_of_expense:"",wallet:"",selectedCellsTotal:0}),this.filterOperations()}},{key:"handleEditState",value:function(e){e.preventDefault(),this.setState({EditState:!0})}},{key:"handleEditStateCreate",value:function(e){var t=this.state.allWallets;this.setState({EditState:!1,currentOperation:{id:"",name:"",category:"",amount:"0",wallet_id:t&&t[0].id,description:"",type_of_operation:"Income",priority:"High",date_of_expense:(new Date).toISOString().substr(0,10),image:""}})}},{key:"handleDeleteOperation",value:function(){var e=Object(p.a)(u.a.mark(function e(t,a){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t,a);case 2:return e.next=4,V();case 4:e.sent,this.filterOperations();case 6:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"unselectImage",value:function(e){this.setState(function(e){return Object(c.a)({},e,Object(i.a)({},"currentOperation",Object(c.a)({},e.currentOperation,{image:""})))})}},{key:"handleFileUpload",value:function(e){var t=this,a=new FileReader,n=e;a.onloadend=function(){t.setState(function(e){return Object(c.a)({},e,Object(i.a)({},"currentOperation",Object(c.a)({},e.currentOperation,{image:n})))})},n&&a.readAsDataURL(n)}},{key:"handleOnChange",value:function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value;this.setState(Object(i.a)({},a,n))}},{key:"handleIsExpenseTrue",value:function(){this.setState({IsExpense:!0})}},{key:"handleIsExpenseFalse",value:function(){this.setState({IsExpense:!1})}},{key:"handleChange",value:function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value;this.setState(Object(i.a)({},a,n))}},{key:"setCurrentOperation",value:function(e,t){e.preventDefault(),this.setState({currentOperation:t})}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoggedIn,n=t.currentOperation,l=t.EditState,o=t.IsExpense;return r.a.createElement("div",{className:"App"},r.a.createElement(O,{handleEditStateCreate:this.handleEditStateCreate,handleIsExpenseFalse:this.handleIsExpenseFalse,handleIsExpenseTrue:this.handleIsExpenseTrue,isLoggedIn:a,logOut:this.logOut}),r.a.createElement("main",null,localStorage.getItem("token")?r.a.createElement(x.d,null,r.a.createElement(x.b,{exact:!0,path:"/",component:ae}),r.a.createElement(x.b,{path:"/login",render:function(){return r.a.createElement(P,{handleChange:e.handleChange,signUp:e.signUp,logIn:e.logIn})}}),r.a.createElement(x.b,{path:"/signup",render:function(){return r.a.createElement(M,{handleChange:e.handleChange,signUp:e.signUp,logIn:e.logIn})}}),r.a.createElement(x.b,{path:"/operation",render:function(){return r.a.createElement($,{handleChangeInput:e.handleChangeInput,currentOperation:n,EditState:l,fetchAllOperation:e.fetchAllOperation,wallets:e.state.allWallets,history:me})}}),r.a.createElement(x.b,{path:"/createwallet",render:function(){return r.a.createElement(ne,{history:me,fetchAllOperation:e.fetchAllOperation})}}),r.a.createElement(x.b,{path:"/myaccount",render:function(){return r.a.createElement(ie,{incomes:e.state.incomes,expenses:e.state.expenses,wallets:e.state.allWallets})}}),r.a.createElement(x.b,{path:"/reports",render:function(){return r.a.createElement(ue,{handleChangeInput:e.handleChangeInput,incomes:e.state.incomes,expenses:e.state.expenses,wallets:e.state.allWallets})}}),r.a.createElement(x.b,{path:"/listofoperations",render:function(){return r.a.createElement(oe,{expenses:o?e.state.expenses:e.state.incomes,handleOnChange:e.handleOnChange,emptyFilter:e.emptyFilter,searchByName:e.state.searchByName,category:e.state.category,date_of_expense:e.state.date_of_expense,wallet:e.state.wallet,setCurrentOperation:e.setCurrentOperation,handleEditState:e.handleEditState,IsExpense:o,handleDeleteOperation:e.handleDeleteOperation,fetchAllOperation:e.fetchAllOperation,currentOperation:e.state.currentOperation,wallets:e.state.allWallets})}})):r.a.createElement(x.d,null,r.a.createElement(x.b,{path:"/login",render:function(){return r.a.createElement(P,{handleChange:e.handleChange,signUp:e.signUp,logIn:e.logIn})}}),r.a.createElement(x.b,{path:"/signup",render:function(){return r.a.createElement(M,{handleChange:e.handleChange,signUp:e.signUp,logIn:e.logIn})}}),r.a.createElement(x.b,{exact:!0,path:"/",component:ae}))),r.a.createElement(w,null))}}]),t}(n.Component);o.a.render(r.a.createElement(x.c,{history:me},r.a.createElement(he,null)),document.getElementById("root"))}},[[254,1,2]]]);
//# sourceMappingURL=main.f9f71290.chunk.js.map